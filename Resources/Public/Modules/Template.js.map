{
  "version": 3,
  "sources": ["../../Private/Assets/Template.js"],
  "sourcesContent": ["import PhotoSwipeLightbox from \"photoswipe/lightbox\";\nimport {\n    getPswpContainer,\n    dispatchEvent,\n    createElement,\n    getDataOptions,\n    setPswpContainerAttributes,\n    addEventListener,\n} from \"./Helper\";\n\nconst optionsFromNeos = { ...getDataOptions(\"photoswipeI18n\"), ...getDataOptions(\"photoswipeTemplateOptions\") };\n\nconst wrappingClass = optionsFromNeos.wrappingClass || \"jonnitto-photoswipe-content\";\ndelete optionsFromNeos.wrappingClass;\n\nfunction init(options = {}) {\n    options = { ...optionsFromNeos, ...options };\n    const lightbox = new PhotoSwipeLightbox({\n        preloadFirstSlide: false,\n        allowPanToNext: false,\n        initialZoomLevel: 1,\n        secondaryZoomLevel: 1,\n        maxZoomLevel: 1,\n        wheelToZoom: false,\n        closeOnVerticalDrag: false,\n        mainClass: \"pswp--template\",\n        arrowKeys: false,\n        preloaderDelay: 1000,\n\n        pswpModule: () => import(\"photoswipe\"),\n        ...options,\n    });\n\n    lightbox.addFilter(\"isContentZoomable\", () => false);\n    lightbox.addFilter(\"preventPointerEvent\", () => true);\n\n    lightbox.on(\"firstUpdate\", () => {\n        setPswpContainerAttributes();\n        const container = getPswpContainer();\n        // This enables default scrolling\n        container?.addEventListener(\n            \"wheel\",\n            (event) => {\n                event.stopImmediatePropagation();\n                event.stopPropagation();\n            },\n            { passive: true },\n        );\n    });\n\n    lightbox.on(\"destroy\", () => {\n        dispatchEvent({ type: \"template\", action: \"close\" });\n    });\n\n    lightbox.on(\"contentLoad\", async (event) => {\n        const { content } = event;\n        const element = content?.data?.element;\n        const template = element?.querySelector(\"template\");\n        if (!element || !template) {\n            return;\n        }\n        content.state = \"loading\";\n        event.preventDefault();\n        content.element = createElement(template, wrappingClass);\n        content.onLoaded();\n    });\n    lightbox.init();\n    return lightbox;\n}\n\nconst lightbox = init();\n\naddEventListener(\"template\", () => {\n    lightbox.init();\n});\n\nwindow.neosPhotoSwipe = window.neosPhotoSwipe || {};\nwindow.neosPhotoSwipe.template = {\n    init,\n    lightbox,\n};\n"],
  "mappings": "8GAUA,IAAMA,EAAkB,CAAE,GAAGC,EAAe,gBAAgB,EAAG,GAAGA,EAAe,2BAA2B,CAAE,EAExGC,EAAgBF,EAAgB,eAAiB,8BACvD,OAAOA,EAAgB,cAEvB,SAASG,EAAKC,EAAU,CAAC,EAAG,CACxBA,EAAU,CAAE,GAAGJ,EAAiB,GAAGI,CAAQ,EAC3C,IAAMC,EAAW,IAAIC,EAAmB,CACpC,kBAAmB,GACnB,eAAgB,GAChB,iBAAkB,EAClB,mBAAoB,EACpB,aAAc,EACd,YAAa,GACb,oBAAqB,GACrB,UAAW,iBACX,UAAW,GACX,eAAgB,IAEhB,WAAY,IAAM,OAAO,8BAAY,EACrC,GAAGF,CACP,CAAC,EAED,OAAAC,EAAS,UAAU,oBAAqB,IAAM,EAAK,EACnDA,EAAS,UAAU,sBAAuB,IAAM,EAAI,EAEpDA,EAAS,GAAG,cAAe,IAAM,CAC7BE,EAA2B,EACTC,EAAiB,GAExB,iBACP,QACCC,GAAU,CACPA,EAAM,yBAAyB,EAC/BA,EAAM,gBAAgB,CAC1B,EACA,CAAE,QAAS,EAAK,CACpB,CACJ,CAAC,EAEDJ,EAAS,GAAG,UAAW,IAAM,CACzBK,EAAc,CAAE,KAAM,WAAY,OAAQ,OAAQ,CAAC,CACvD,CAAC,EAEDL,EAAS,GAAG,cAAe,MAAOI,GAAU,CACxC,GAAM,CAAE,QAAAE,CAAQ,EAAIF,EACdG,EAAUD,GAAS,MAAM,QACzBE,EAAWD,GAAS,cAAc,UAAU,EAC9C,CAACA,GAAW,CAACC,IAGjBF,EAAQ,MAAQ,UAChBF,EAAM,eAAe,EACrBE,EAAQ,QAAUG,EAAcD,EAAUX,CAAa,EACvDS,EAAQ,SAAS,EACrB,CAAC,EACDN,EAAS,KAAK,EACPA,CACX,CAEA,IAAMA,EAAWF,EAAK,EAEtBY,EAAiB,WAAY,IAAM,CAC/BV,EAAS,KAAK,CAClB,CAAC,EAED,OAAO,eAAiB,OAAO,gBAAkB,CAAC,EAClD,OAAO,eAAe,SAAW,CAC7B,KAAAF,EACA,SAAAE,CACJ",
  "names": ["optionsFromNeos", "getDataOptions", "wrappingClass", "init", "options", "lightbox", "PhotoSwipeLightbox", "setPswpContainerAttributes", "getPswpContainer", "event", "dispatchEvent", "content", "element", "template", "createElement", "addEventListener"]
}
