{
  "version": 3,
  "sources": ["../../Private/Assets/Template.js"],
  "sourcesContent": ["import PhotoSwipeLightbox from \"photoswipe/lightbox\";\nimport { getPswpContainer, dispatchEvent, createElement } from \"./Helper\";\n\nconst i18n = JSON.parse(document.querySelector(\"[data-photoswipe-i18n]\")?.dataset?.photoswipeI18n || \"{}\");\nlet optionsFromNeos = JSON.parse(\n    document.querySelector(\"[data-photoswipe-template-options]\")?.dataset?.photoswipeTemplateOptions || \"{}\",\n);\noptionsFromNeos = { ...i18n, ...optionsFromNeos };\n\nconst wrappingClass = optionsFromNeos.wrappingClass || \"jonnitto-photoswipe-content\";\ndelete optionsFromNeos.wrappingClass;\n\nlet currentContent = null;\n\nfunction init(options = {}) {\n    options = { ...optionsFromNeos, ...options };\n    const lightbox = new PhotoSwipeLightbox({\n        preloadFirstSlide: false,\n        allowPanToNext: false,\n        initialZoomLevel: 1,\n        secondaryZoomLevel: 1,\n        maxZoomLevel: 1,\n        wheelToZoom: false,\n        closeOnVerticalDrag: false,\n        mainClass: \"pswp--template\",\n        arrowKeys: false,\n        preloaderDelay: 1000,\n\n        pswpModule: () => import(\"photoswipe\"),\n        ...options,\n    });\n\n    lightbox.addFilter(\"isContentZoomable\", () => false);\n    lightbox.addFilter(\"preventPointerEvent\", () => true);\n\n    lightbox.on(\"firstUpdate\", (event) => {\n        const container = getPswpContainer();\n        container.setAttribute(\"data-turbo-temporary\", true);\n        // This enables default scrolling\n        container?.addEventListener(\n            \"wheel\",\n            (event) => {\n                event.stopImmediatePropagation();\n                event.stopPropagation();\n            },\n            { passive: true },\n        );\n    });\n\n    lightbox.on(\"destroy\", () => {\n        dispatchEvent({ type: \"template\", action: \"close\" });\n    });\n\n    lightbox.on(\"contentLoad\", async (event) => {\n        const { content } = event;\n        const element = content?.data?.element;\n        const template = element?.querySelector(\"template\");\n        if (!element || !template) {\n            return;\n        }\n        content.state = \"loading\";\n        event.preventDefault();\n        content.element = createElement(template, wrappingClass);\n        content.onLoaded();\n    });\n    lightbox.init();\n    return lightbox;\n}\n\nwindow.neosPhotoSwipe = window.neosPhotoSwipe || {};\nwindow.neosPhotoSwipe.template = {\n    init,\n    lightbox: init(),\n};\n"],
  "mappings": "8FAGA,IAAMA,EAAO,KAAK,MAAM,SAAS,cAAc,wBAAwB,GAAG,SAAS,gBAAkB,IAAI,EACrGC,EAAkB,KAAK,MACvB,SAAS,cAAc,oCAAoC,GAAG,SAAS,2BAA6B,IACxG,EACAA,EAAkB,CAAE,GAAGD,EAAM,GAAGC,CAAgB,EAEhD,IAAMC,EAAgBD,EAAgB,eAAiB,8BACvD,OAAOA,EAAgB,cAIvB,SAASE,EAAKC,EAAU,CAAC,EAAG,CACxBA,EAAU,CAAE,GAAGC,EAAiB,GAAGD,CAAQ,EAC3C,IAAME,EAAW,IAAIC,EAAmB,CACpC,kBAAmB,GACnB,eAAgB,GAChB,iBAAkB,EAClB,mBAAoB,EACpB,aAAc,EACd,YAAa,GACb,oBAAqB,GACrB,UAAW,iBACX,UAAW,GACX,eAAgB,IAEhB,WAAY,IAAM,OAAO,8BAAY,EACrC,GAAGH,CACP,CAAC,EAED,OAAAE,EAAS,UAAU,oBAAqB,IAAM,EAAK,EACnDA,EAAS,UAAU,sBAAuB,IAAM,EAAI,EAEpDA,EAAS,GAAG,cAAgBE,GAAU,CAClC,IAAMC,EAAYC,EAAiB,EACnCD,EAAU,aAAa,uBAAwB,EAAI,EAEnDA,GAAW,iBACP,QACCD,GAAU,CACPA,EAAM,yBAAyB,EAC/BA,EAAM,gBAAgB,CAC1B,EACA,CAAE,QAAS,EAAK,CACpB,CACJ,CAAC,EAEDF,EAAS,GAAG,UAAW,IAAM,CACzBK,EAAc,CAAE,KAAM,WAAY,OAAQ,OAAQ,CAAC,CACvD,CAAC,EAEDL,EAAS,GAAG,cAAe,MAAOE,GAAU,CACxC,GAAM,CAAE,QAAAI,CAAQ,EAAIJ,EACdK,EAAUD,GAAS,MAAM,QACzBE,EAAWD,GAAS,cAAc,UAAU,EAC9C,CAACA,GAAW,CAACC,IAGjBF,EAAQ,MAAQ,UAChBJ,EAAM,eAAe,EACrBI,EAAQ,QAAUG,EAAcD,EAAUE,CAAa,EACvDJ,EAAQ,SAAS,EACrB,CAAC,EACDN,EAAS,KAAK,EACPA,CACX,CAEA,OAAO,eAAiB,OAAO,gBAAkB,CAAC,EAClD,OAAO,eAAe,SAAW,CAC7B,KAAAH,EACA,SAAUA,EAAK,CACnB",
  "names": ["i18n", "optionsFromNeos", "wrappingClass", "init", "options", "optionsFromNeos", "lightbox", "PhotoSwipeLightbox", "event", "container", "getPswpContainer", "dispatchEvent", "content", "element", "template", "createElement", "wrappingClass"]
}
