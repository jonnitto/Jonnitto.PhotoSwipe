import{a as w}from"./chunk-P7HNF4BQ.js";import{a as i,b as r,c as d,d as c,e as h,f}from"./chunk-Y32VTBQC.js";var s={...i("photoswipeI18n"),...i("photoswipeFetchOptions")},E=s.wrappingClass||"jonnitto-photoswipe-content",v=s.fetchLinkAppend||"";delete s.wrappingClass;delete s.fetchLinkAppend;var p=null;function g(t={}){t={...s,...t};let e=new w({preloadFirstSlide:!1,allowPanToNext:!1,initialZoomLevel:1,secondaryZoomLevel:1,maxZoomLevel:1,wheelToZoom:!1,closeOnVerticalDrag:!1,mainClass:"pswp--fetch",arrowKeys:!1,preloaderDelay:1e3,pswpModule:()=>import("./photoswipe.esm-UIMGLIZI.js"),...t});return e.addFilter("isContentZoomable",()=>!1),e.addFilter("preventPointerEvent",()=>!0),e.on("firstUpdate",()=>{d();let o=r();o?.addEventListener("wheel",n=>{n.stopImmediatePropagation(),n.stopPropagation()},{passive:!0}),o?.addEventListener("click",C)}),e.on("destroy",()=>{c({type:"fetch",action:"close"})}),e.on("contentLoad",async o=>{let{content:n}=o,a=n?.data,l=a?.element?.dataset?.pwspSrc||a?.src;if(n.type!="fetch"||!l)return;n.state="loading",o.preventDefault();let y=await u(l);n.element=y,p=n.element,n.onLoaded()}),e.init(),e}async function C(t){let e=t.target;if(!e.matches('[data-pswp-type="fetch"]'))return;t.preventDefault();let o=e.dataset.pswpSrc||e.href,n=await u(o);p.replaceWith(n),p=n}async function P(t,e){let o=await fetch(t+e);if(!o.ok)throw new Error(s.errorMsg);let n=await o.text();return t=x(t),c({url:t,lightbox:t+e,type:"fetch",action:"open"}),n}function x(t){return new RegExp("^(http|https)://","i").test(t)?t:window.location.origin+(t.startsWith("/")?"":"/")+t}async function u(t){m(!0);let e=await P(t,v).catch(n=>`<p class="jonnitto-photoswipe-content__error">${n.message.replace('"%s"',t)}</p>`),o=h(e,E);return m(!1),o}function m(t=!0){r()?.classList.toggle("pswp--fetch-loading",t)}var L=g();f("fetch",()=>{L.init()});window.neosPhotoSwipe=window.neosPhotoSwipe||{};window.neosPhotoSwipe.fetch={init:g,lightbox:L};
/*! For license information please see Fetch.js.LEGAL.txt */
//# sourceMappingURL=Fetch.js.map
