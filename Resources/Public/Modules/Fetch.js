import{a as d}from"./chunk-P7HNF4BQ.js";import{a as i,b as r,c as w,d as c,e as h,f}from"./chunk-Y32VTBQC.js";var s={...i("photoswipeI18n"),...i("photoswipeFetchOptions")},E=s.wrappingClass||"jonnitto-photoswipe-content",b=s.fetchLinkAppend||"";delete s.wrappingClass;delete s.fetchLinkAppend;var m=document.body,g="jonnitto-photoswipe-disable-scroll",p=null;function L(t={}){t={...s,...t};let e=new d({preloadFirstSlide:!1,allowPanToNext:!1,initialZoomLevel:1,secondaryZoomLevel:1,maxZoomLevel:1,wheelToZoom:!1,closeOnVerticalDrag:!1,mainClass:"pswp--fetch",arrowKeys:!1,preloaderDelay:1e3,pswpModule:()=>import("./photoswipe.esm-UIMGLIZI.js"),...t});return e.addFilter("isContentZoomable",()=>!1),e.addFilter("preventPointerEvent",()=>!0),e.on("firstUpdate",()=>{m.classList.add(g),w();let n=r();n?.addEventListener("wheel",o=>{o.stopImmediatePropagation(),o.stopPropagation()},{passive:!0}),n?.addEventListener("click",P)}),e.on("destroy",()=>{c({type:"fetch",action:"close"}),m.classList.remove(g)}),e.on("contentLoad",async n=>{let{content:o}=n,a=o?.data,l=a?.element?.dataset?.pwspSrc||a?.src;if(o.type!="fetch"||!l)return;o.state="loading",n.preventDefault();let C=await y(l);o.element=C,p=o.element,o.onLoaded()}),e.init(),e}async function P(t){let e=t.target;if(!e.matches('[data-pswp-type="fetch"]'))return;t.preventDefault();let n=e.dataset.pswpSrc||e.href,o=await y(n);p.replaceWith(o),p=o}async function x(t,e){let n=await fetch(t+e);if(!n.ok)throw new Error(s.errorMsg);let o=await n.text();return t=S(t),c({url:t,lightbox:t+e,type:"fetch",action:"open"}),o}function S(t){return new RegExp("^(http|https)://","i").test(t)?t:window.location.origin+(t.startsWith("/")?"":"/")+t}async function y(t){u(!0);let e=await x(t,b).catch(o=>`<p class="jonnitto-photoswipe-content__error">${o.message.replace('"%s"',t)}</p>`),n=h(e,E);return u(!1),n}function u(t=!0){r()?.classList.toggle("pswp--fetch-loading",t)}var v=L();f("fetch",()=>{v.init()});window.neosPhotoSwipe=window.neosPhotoSwipe||{};window.neosPhotoSwipe.fetch={init:L,lightbox:v};
//# sourceMappingURL=Fetch.js.map
