import{a as p}from"./chunk-4XBQJDYT.js";var m=JSON.parse(document.querySelector("[data-photoswipe-i18n]")?.dataset?.photoswipeI18n||"{}"),s=JSON.parse(document.querySelector("[data-photoswipe-fetch-options]")?.dataset?.photoswipeFetchOptions||"{}");s={...m,...s};var f=s.wrappingClass||"jonnitto-photoswipe-content",u=s.fetchLinkAppend||"";delete s.contentSelector;delete s.fetchLinkAppend;var r=null,i=null;function l(e={}){e={...s,...e};let n=new p({preloadFirstSlide:!1,allowPanToNext:!1,initialZoomLevel:1,secondaryZoomLevel:1,maxZoomLevel:1,wheelToZoom:!1,closeOnVerticalDrag:!1,mainClass:"pswp--fetch",arrowKeys:!1,preloaderDelay:1e3,pswpModule:()=>import("./photoswipe.esm-PFX67TF7.js"),...e});return n.addFilter("isContentZoomable",()=>!1),n.addFilter("preventPointerEvent",()=>!0),n.on("firstUpdate",o=>{let t=h();t.setAttribute("data-turbo-temporary",!0),t?.addEventListener("wheel",a=>{a.stopImmediatePropagation(),a.stopPropagation()},{passive:!0}),t?.addEventListener("click",g)}),n.on("contentLoad",async o=>{let{content:t}=o,a=t?.data?.src;if(t.type!="fetch"||!a)return;t.state="loading",o.preventDefault();let c=await w(a);t.element=c,i=t.element,t.onLoaded()}),n.init(),n}async function g(e){let n=e.target;if(!n.matches('[data-pswp-type="fetch"]'))return;e.preventDefault();let o=await w(n.href);i.replaceWith(o),i=o}async function L(e,n){let o=await fetch(e+n);if(!o.ok)throw new Error(s.errorMsg);let t=await o.text();e=y(e);let a=new CustomEvent("neosPhotoSwipe",{detail:{url:e,lightbox:e+n,type:"fetch"}});return document.dispatchEvent(a),t}function y(e){return new RegExp("^(http|https)://","i").test(e)?e:window.location.origin+(e.startsWith("/")?"":"/")+e}async function w(e){d(!0);let n=await L(e,u).catch(a=>`<p class="jonnitto-photoswipe-content__error">${a.message.replace('"%s"',e)}</p>`),o=document.createElement("template");o.innerHTML=n;let t=document.createElement("div");return t.classList.add(f),t.append(...o.content.children),d(!1),t}function h(){return r||(r=document.querySelector(".pswp"),r)}function d(e=!0){h()?.classList.toggle("pswp--fetch-loading",e)}window.neosPhotoSwipe=window.neosPhotoSwipe||{};window.neosPhotoSwipe.fetch={init:l,lightbox:l()};
/*! For license information please see Fetch.js.LEGAL.txt */
//# sourceMappingURL=Fetch.js.map
