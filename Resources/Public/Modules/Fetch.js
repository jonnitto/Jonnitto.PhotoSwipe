import{a as l}from"./chunk-4XBQJDYT.js";import{a as i,b as r,c as w,d as p,e as h}from"./chunk-SCSZPJXC.js";var a={...i("photoswipeI18n"),...i("photoswipeFetchOptions")},u=a.wrappingClass||"jonnitto-photoswipe-content",L=a.fetchLinkAppend||"";delete a.wrappingClass;delete a.fetchLinkAppend;var c=null;function f(e={}){e={...a,...e};let t=new l({preloadFirstSlide:!1,allowPanToNext:!1,initialZoomLevel:1,secondaryZoomLevel:1,maxZoomLevel:1,wheelToZoom:!1,closeOnVerticalDrag:!1,mainClass:"pswp--fetch",arrowKeys:!1,preloaderDelay:1e3,pswpModule:()=>import("./photoswipe.esm-SYAMA2OP.js"),...e});return t.addFilter("isContentZoomable",()=>!1),t.addFilter("preventPointerEvent",()=>!0),t.on("firstUpdate",o=>{w();let n=r();n?.addEventListener("wheel",s=>{s.stopImmediatePropagation(),s.stopPropagation()},{passive:!0}),n?.addEventListener("click",y)}),t.on("destroy",()=>{p({type:"fetch",action:"close"})}),t.on("contentLoad",async o=>{let{content:n}=o,s=n?.data?.src;if(n.type!="fetch"||!s)return;n.state="loading",o.preventDefault();let m=await g(s);n.element=m,c=n.element,n.onLoaded()}),t.init(),t}async function y(e){let t=e.target;if(!t.matches('[data-pswp-type="fetch"]'))return;e.preventDefault();let o=await g(t.href);c.replaceWith(o),c=o}async function v(e,t){let o=await fetch(e+t);if(!o.ok)throw new Error(a.errorMsg);let n=await o.text();return e=C(e),p({url:e,lightbox:e+t,type:"fetch",action:"open"}),n}function C(e){return new RegExp("^(http|https)://","i").test(e)?e:window.location.origin+(e.startsWith("/")?"":"/")+e}async function g(e){d(!0);let t=await v(e,L).catch(n=>`<p class="jonnitto-photoswipe-content__error">${n.message.replace('"%s"',e)}</p>`),o=h(t,u);return d(!1),o}function d(e=!0){r()?.classList.toggle("pswp--fetch-loading",e)}window.neosPhotoSwipe=window.neosPhotoSwipe||{};window.neosPhotoSwipe.fetch={init:f,lightbox:f()};
/*! For license information please see Fetch.js.LEGAL.txt */
//# sourceMappingURL=Fetch.js.map
