import{a as p}from"./chunk-4XBQJDYT.js";var m=JSON.parse(document.querySelector("[data-photoswipe-i18n]")?.dataset?.photoswipeI18n||"{}"),s=JSON.parse(document.querySelector("[data-photoswipe-fetch-options]")?.dataset?.photoswipeFetchOptions||"{}");s={...m,...s};var u=s.wrappingClass||"jonnitto-photoswipe-content",g=s.fetchLinkAppend||"";delete s.contentSelector;delete s.fetchLinkAppend;var i=null,r=null;function l(e={}){e={...s,...e};let t=new p({preloadFirstSlide:!1,allowPanToNext:!1,initialZoomLevel:1,secondaryZoomLevel:1,maxZoomLevel:1,wheelToZoom:!1,closeOnVerticalDrag:!1,mainClass:"pswp--fetch",arrowKeys:!1,preloaderDelay:1e3,pswpModule:()=>import("./photoswipe.esm-PFX67TF7.js"),...e});return t.addFilter("isContentZoomable",()=>!1),t.addFilter("preventPointerEvent",()=>!0),t.on("firstUpdate",o=>{let n=h();n.setAttribute("data-turbo-temporary",!0),n?.addEventListener("wheel",a=>{a.stopImmediatePropagation(),a.stopPropagation()},{passive:!0}),n?.addEventListener("click",y)}),t.on("destroy",()=>{f({type:"fetch",action:"close"})}),t.on("contentLoad",async o=>{let{content:n}=o,a=n?.data?.src;if(n.type!="fetch"||!a)return;n.state="loading",o.preventDefault();let c=await w(a);n.element=c,r=n.element,n.onLoaded()}),t.init(),t}async function y(e){let t=e.target;if(!t.matches('[data-pswp-type="fetch"]'))return;e.preventDefault();let o=await w(t.href);r.replaceWith(o),r=o}async function L(e,t){let o=await fetch(e+t);if(!o.ok)throw new Error(s.errorMsg);let n=await o.text();return e=v(e),f({url:e,lightbox:e+t,type:"fetch",action:"open"}),n}function v(e){return new RegExp("^(http|https)://","i").test(e)?e:window.location.origin+(e.startsWith("/")?"":"/")+e}async function w(e){d(!0);let t=await L(e,g).catch(a=>`<p class="jonnitto-photoswipe-content__error">${a.message.replace('"%s"',e)}</p>`),o=document.createElement("template");o.innerHTML=t;let n=document.createElement("div");return n.classList.add(u),n.append(...o.content.children),d(!1),n}function h(){return i||(i=document.querySelector(".pswp"),i)}function d(e=!0){h()?.classList.toggle("pswp--fetch-loading",e)}function f(e){let t=new CustomEvent("neosphotoswipe",{detail:e});document.dispatchEvent(t)}window.neosPhotoSwipe=window.neosPhotoSwipe||{};window.neosPhotoSwipe.fetch={init:l,lightbox:l()};
/*! For license information please see Fetch.js.LEGAL.txt */
//# sourceMappingURL=Fetch.js.map
